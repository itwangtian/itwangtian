---
title: react状态改变，为何触发函数组件重新渲染？
urlname: tvze4ptzu906v7mh
date: "2023-08-31 22:58:26"
updated: "2023-09-09 17:01:03"
---

# 一句话总结：

要更新视图呀，保组件以最新的状态更新。

# 重新渲染步骤：

## 重新计算组件的虚拟 DOM 树

当状态发生变化时，React 会重新计算组件的虚拟 DOM 树。这个过程是高效的，因为 React 使用了一些算法和优化技术，例如虚拟 DOM 的 diff 算法，来尽可能减少计算量。

## 对比新旧虚拟 DOM 树的差异

React 会对比新旧两棵虚拟 DOM 树，并找出其中的差异。这个过程称为协调（reconciliation）。React 会查找需要添加、更新或移除的 DOM 节点，并生成一组操作指令，以最小的代价来实现新旧状态之间的变化。

## 应用差异到 DOM 上

根据协调阶段的操作指令，React 会将变化应用到实际的 DOM 上。通过 DOM 操作，更新那些需要改变的元素，使页面显示出最新的状态。

重新渲染的触发机制确保了 React 的响应性和数据驱动的特性。当组件的状态发生改变时，React 会自动管理和更新组件的渲染结果，以确保 UI 的正确展示。
