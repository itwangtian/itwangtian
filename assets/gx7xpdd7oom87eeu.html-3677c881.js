import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as l,c as r,a as n,b as a,d as t,e as c}from"./app-a9ba1001.js";const p={},i=n("h1",{id:"本地文件上传",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#本地文件上传","aria-hidden":"true"},"#"),a(" 本地文件上传")],-1),u=n("h2",{id:"环境安装",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#环境安装","aria-hidden":"true"},"#"),a(" 环境安装")],-1),d=n("ol",null,[n("li",null,"Koa")],-1),_=n("li",null,"作用：Koa 是一个 Node.js 的 Web 框架，用于构建 Web 应用程序。它提供了一种简洁而灵活的方式来处理 HTTP 请求和响应。",-1),m={href:"https://www.npmjs.com/package/koa",target:"_blank",rel:"noopener noreferrer"},h=n("ol",{start:"2"},[n("li",null,"Koa-Router")],-1),k=n("li",null,"作用：Koa Router 是 Koa 框架的路由中间件，用于定义和处理路由。",-1),f={href:"https://www.npmjs.com/package/koa-router",target:"_blank",rel:"noopener noreferrer"},w=n("ol",{start:"3"},[n("li",null,"@koa/multer")],-1),b=n("li",null,"作用：@koa/multer 是一个用于处理文件上传的 Koa 中间件。它基于 Multer 库，提供了方便的文件上传功能。",-1),g={href:"https://www.npmjs.com/package/@koa/multer",target:"_blank",rel:"noopener noreferrer"},v=n("li",null,"Multer",-1),j=n("p",null,[a("Multer 是一个 node.js 中间件，用于处理 multipart/form-data 类型的表单数据，主要用于上传文件。"),n("br"),a(" 在 form 表单上要加上 enctype=“multipart/form-data” 的属性。"),n("br"),a(" Multer 不会处理任何非 multipart/form-data 类型的表单数据。"),n("br"),a(" 不要将 Multer 作为全局中间件使用，因为恶意用户可以上传文件到一个你没有预料到的路由，应该只在你需要处理上传文件的路由上使用。")],-1),x=n("ol",{start:"4"},[n("li",null,"path")],-1),y=n("ul",null,[n("li",null,"作用：Node.js 的内置模块，用于处理文件路径，提供了一些实用的函数来操作和解析文件路径。"),n("li",null,"npm 地址：这是 Node.js 的内置模块，不需要通过 npm 安装，可以直接使用。")],-1),N=n("ol",{start:"5"},[n("li",null,"@koa/cors")],-1),K=n("li",null,"作用：@koa/cors 是一个 Koa 中间件，用于处理 CORS（跨源资源共享）请求，允许不同域之间的跨域请求。",-1),T={href:"https://www.npmjs.com/package/@koa/cors",target:"_blank",rel:"noopener noreferrer"},B=n("ol",{start:"6"},[n("li",null,"koa-body")],-1),M=n("li",null,"作用：koa-body 是一个 Koa 中间件，用于解析 HTTP 请求的请求体，并将解析的数据附加到 Koa 的上下文中。",-1),V={href:"https://www.npmjs.com/package/koa-body",target:"_blank",rel:"noopener noreferrer"},S=n("ol",{start:"7"},[n("li",null,"koa-static")],-1),q=n("li",null,"作用：koa-static 是一个 Koa 中间件，用于提供静态文件服务，可以将指定目录下的静态资源（如 HTML、CSS、JavaScript 文件）提供给客户端访问。",-1),R={href:"https://www.npmjs.com/package/koa-static",target:"_blank",rel:"noopener noreferrer"},W=c(`<h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项！！</h2><p>文件本地上传环境配置，顺序要求如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1、先配置跨越</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2、应用路由（使用koa-Router）</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">koaBody</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//3、解析请求内容请求数据</span>
    <span class="token literal-property property">multipart</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 4、、</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),C=n("br",null,null,-1),E={href:"https://jelly.jd.com/article/5e734631affa8301490877f1",target:"_blank",rel:"noopener noreferrer"},H=n("br",null,null,-1),J={href:"https://segmentfault.com/a/1190000008899001",target:"_blank",rel:"noopener noreferrer"},L=n("br",null,null,-1),A={href:"https://mp.weixin.qq.com/s/y_UwDtB1TsNNfWs5hJVGdA",target:"_blank",rel:"noopener noreferrer"};function D(G,I){const s=o("ExternalLinkIcon");return l(),r("div",null,[i,u,d,n("ul",null,[_,n("li",null,[a("npm 地址："),n("a",m,[a("https://www.npmjs.com/package/koa"),t(s)])])]),h,n("ul",null,[k,n("li",null,[a("npm 地址："),n("a",f,[a("https://www.npmjs.com/package/koa-router"),t(s)])])]),w,n("ul",null,[b,n("li",null,[a("npm 地址："),n("a",g,[a("https://www.npmjs.com/package/@koa/multer"),t(s)])]),v]),j,x,y,N,n("ul",null,[K,n("li",null,[a("npm 地址："),n("a",T,[a("https://www.npmjs.com/package/@koa/cors"),t(s)])])]),B,n("ul",null,[M,n("li",null,[a("npm 地址："),n("a",V,[a("https://www.npmjs.com/package/koa-body"),t(s)])])]),S,n("ul",null,[q,n("li",null,[a("npm 地址："),n("a",R,[a("https://www.npmjs.com/package/koa-static"),t(s)])])]),W,n("p",null,[a("参考链接"),C,n("a",E,[a("https://jelly.jd.com/article/5e734631affa8301490877f1"),t(s)]),H,n("a",J,[a("https://segmentfault.com/a/1190000008899001"),t(s)]),L,n("a",A,[a("https://mp.weixin.qq.com/s/y_UwDtB1TsNNfWs5hJVGdA"),t(s)])])])}const O=e(p,[["render",D],["__file","gx7xpdd7oom87eeu.html.vue"]]);export{O as default};
