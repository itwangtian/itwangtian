const n=JSON.parse('{"key":"v-baa368d8","path":"/docs/lhkxca986wzmi9s3.html","title":"react+echarts","lang":"zh-CN","frontmatter":{"title":"react+echarts","urlname":"lhkxca986wzmi9s3","date":"2023-08-27 10:03:18","updated":"2023-08-28 08:48:41","description":"react 中使用 echarts import { useRef, useEffect } from \\"react\\"; import * as echarts from \\"echarts/core\\"; import { GridComponent, GridComponentOption } from \\"echarts/components\\"; import { LineChart, LineSeriesOption } from \\"echarts/charts\\"; import { UniversalTransition } from \\"echarts/features\\"; import { CanvasRenderer } from \\"echarts/renderers\\"; // 导入所需要的echarts组件和特性 echarts.use([GridComponent, LineChart, CanvasRenderer, UniversalTransition]); // 定义ECharts的配置类型 type EChartsOption = echarts.ComposeOption&lt; GridComponentOption | LineSeriesOption &gt;; // 定义ECharts的配置选项 const option: EChartsOption = { xAxis: { type: \\"category\\", boundaryGap: false, data: [\\"Mon\\", \\"Tue\\", \\"Wed\\", \\"Thu\\", \\"Fri\\", \\"Sat\\", \\"Sun\\"], }, yAxis: { type: \\"value\\", }, series: [ { data: [820, 932, 901, 934, 1290, 1330, 1320], type: \\"line\\", areaStyle: {}, }, ], }; const Main = () =&gt; { const chartRef = useRef&lt;HTMLDivElement&gt;(null); useEffect(() =&gt; { // 避免在同一个 DOM 元素上多次创建 ECharts 实例 if (chartRef.current) { const chart = echarts.getInstanceByDom(chartRef.current) || echarts.init(chartRef.current); chart.setOption(option); return () =&gt; { chart.dispose(); }; } }, []); return ( &lt;div&gt; home 入口文件 &lt;div ref={chartRef} style={{ width: \\"400px\\", height: \\"400px\\" }} /&gt; &lt;/div&gt; ); }; export default Main;","head":[["meta",{"property":"og:url","content":"http://www.itwangtian.com/docs/lhkxca986wzmi9s3.html"}],["meta",{"property":"og:site_name","content":"王天的web进阶之路"}],["meta",{"property":"og:title","content":"react+echarts"}],["meta",{"property":"og:description","content":"react 中使用 echarts import { useRef, useEffect } from \\"react\\"; import * as echarts from \\"echarts/core\\"; import { GridComponent, GridComponentOption } from \\"echarts/components\\"; import { LineChart, LineSeriesOption } from \\"echarts/charts\\"; import { UniversalTransition } from \\"echarts/features\\"; import { CanvasRenderer } from \\"echarts/renderers\\"; // 导入所需要的echarts组件和特性 echarts.use([GridComponent, LineChart, CanvasRenderer, UniversalTransition]); // 定义ECharts的配置类型 type EChartsOption = echarts.ComposeOption&lt; GridComponentOption | LineSeriesOption &gt;; // 定义ECharts的配置选项 const option: EChartsOption = { xAxis: { type: \\"category\\", boundaryGap: false, data: [\\"Mon\\", \\"Tue\\", \\"Wed\\", \\"Thu\\", \\"Fri\\", \\"Sat\\", \\"Sun\\"], }, yAxis: { type: \\"value\\", }, series: [ { data: [820, 932, 901, 934, 1290, 1330, 1320], type: \\"line\\", areaStyle: {}, }, ], }; const Main = () =&gt; { const chartRef = useRef&lt;HTMLDivElement&gt;(null); useEffect(() =&gt; { // 避免在同一个 DOM 元素上多次创建 ECharts 实例 if (chartRef.current) { const chart = echarts.getInstanceByDom(chartRef.current) || echarts.init(chartRef.current); chart.setOption(option); return () =&gt; { chart.dispose(); }; } }, []); return ( &lt;div&gt; home 入口文件 &lt;div ref={chartRef} style={{ width: \\"400px\\", height: \\"400px\\" }} /&gt; &lt;/div&gt; ); }; export default Main;"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-09-30T13:53:52.000Z"}],["meta",{"property":"article:author","content":"程序员王天"}],["meta",{"property":"article:published_time","content":"2023-08-27T10:03:18.000Z"}],["meta",{"property":"article:modified_time","content":"2023-09-30T13:53:52.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"react+echarts\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-08-27T10:03:18.000Z\\",\\"dateModified\\":\\"2023-09-30T13:53:52.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"程序员王天\\",\\"url\\":\\"http://www.itwangtian.com\\"}]}"]]},"headers":[{"level":2,"title":"react 中使用 echarts","slug":"react-中使用-echarts","link":"#react-中使用-echarts","children":[]},{"level":2,"title":"封装 echart 组件","slug":"封装-echart-组件","link":"#封装-echart-组件","children":[]},{"level":2,"title":"封装 echart hooks","slug":"封装-echart-hooks","link":"#封装-echart-hooks","children":[]}],"git":{"createdTime":1696082032000,"updatedTime":1696082032000,"contributors":[{"name":"1970652600@qq.com~","email":"1970652600@qq.com","commits":1}]},"readingTime":{"minutes":0.64,"words":192},"filePathRelative":"docs/lhkxca986wzmi9s3.md","localizedDate":"2023年8月27日","excerpt":"<h2> react 中使用 echarts</h2>\\n<div class=\\"language-tsx line-numbers-mode\\" data-ext=\\"tsx\\"><pre class=\\"language-tsx\\"><code><span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> useRef<span class=\\"token punctuation\\">,</span> useEffect <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">\\"react\\"</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token operator\\">*</span> <span class=\\"token keyword\\">as</span> echarts <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">\\"echarts/core\\"</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> GridComponent<span class=\\"token punctuation\\">,</span> GridComponentOption <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">\\"echarts/components\\"</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> LineChart<span class=\\"token punctuation\\">,</span> LineSeriesOption <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">\\"echarts/charts\\"</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> UniversalTransition <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">\\"echarts/features\\"</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token punctuation\\">{</span> CanvasRenderer <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">from</span> <span class=\\"token string\\">\\"echarts/renderers\\"</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token comment\\">// 导入所需要的echarts组件和特性</span>\\n\\necharts<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">use</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">[</span>GridComponent<span class=\\"token punctuation\\">,</span> LineChart<span class=\\"token punctuation\\">,</span> CanvasRenderer<span class=\\"token punctuation\\">,</span> UniversalTransition<span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token comment\\">// 定义ECharts的配置类型</span>\\n<span class=\\"token keyword\\">type</span> <span class=\\"token class-name\\">EChartsOption</span> <span class=\\"token operator\\">=</span> echarts<span class=\\"token punctuation\\">.</span>ComposeOption<span class=\\"token operator\\">&lt;</span>\\n  GridComponentOption <span class=\\"token operator\\">|</span> LineSeriesOption\\n<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token comment\\">// 定义ECharts的配置选项</span>\\n<span class=\\"token keyword\\">const</span> option<span class=\\"token operator\\">:</span> EChartsOption <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">{</span>\\n  xAxis<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n    type<span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"category\\"</span><span class=\\"token punctuation\\">,</span>\\n    boundaryGap<span class=\\"token operator\\">:</span> <span class=\\"token boolean\\">false</span><span class=\\"token punctuation\\">,</span>\\n    data<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"Mon\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"Tue\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"Wed\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"Thu\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"Fri\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"Sat\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"Sun\\"</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  yAxis<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n    type<span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"value\\"</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  series<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span>\\n    <span class=\\"token punctuation\\">{</span>\\n      data<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token number\\">820</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">932</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">901</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">934</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">1290</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">1330</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">1320</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n      type<span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"line\\"</span><span class=\\"token punctuation\\">,</span>\\n      areaStyle<span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token keyword\\">const</span> <span class=\\"token function-variable function\\">Main</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token keyword\\">const</span> chartRef <span class=\\"token operator\\">=</span> <span class=\\"token generic-function\\"><span class=\\"token function\\">useRef</span><span class=\\"token generic class-name\\"><span class=\\"token operator\\">&lt;</span>HTMLDivElement<span class=\\"token operator\\">&gt;</span></span></span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">null</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n  <span class=\\"token function\\">useEffect</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token comment\\">// 避免在同一个 DOM 元素上多次创建 ECharts 实例</span>\\n    <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span>chartRef<span class=\\"token punctuation\\">.</span>current<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n      <span class=\\"token keyword\\">const</span> chart <span class=\\"token operator\\">=</span>\\n        echarts<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getInstanceByDom</span><span class=\\"token punctuation\\">(</span>chartRef<span class=\\"token punctuation\\">.</span>current<span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">||</span>\\n        echarts<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">init</span><span class=\\"token punctuation\\">(</span>chartRef<span class=\\"token punctuation\\">.</span>current<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n      chart<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setOption</span><span class=\\"token punctuation\\">(</span>option<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n      <span class=\\"token keyword\\">return</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n        chart<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">dispose</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n      <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n  <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span> <span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n  <span class=\\"token keyword\\">return</span> <span class=\\"token punctuation\\">(</span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token plain-text\\">\\n      home 入口文件\\n      </span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>div</span> <span class=\\"token attr-name\\">ref</span><span class=\\"token script language-javascript\\"><span class=\\"token script-punctuation punctuation\\">=</span><span class=\\"token punctuation\\">{</span>chartRef<span class=\\"token punctuation\\">}</span></span> <span class=\\"token attr-name\\">style</span><span class=\\"token script language-javascript\\"><span class=\\"token script-punctuation punctuation\\">=</span><span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">{</span> width<span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"400px\\"</span><span class=\\"token punctuation\\">,</span> height<span class=\\"token operator\\">:</span> <span class=\\"token string\\">\\"400px\\"</span> <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">}</span></span> <span class=\\"token punctuation\\">/&gt;</span></span><span class=\\"token plain-text\\">\\n    </span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>div</span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token keyword\\">export</span> <span class=\\"token keyword\\">default</span> Main<span class=\\"token punctuation\\">;</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{n as data};
